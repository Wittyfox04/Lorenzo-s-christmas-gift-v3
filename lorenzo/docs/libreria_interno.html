<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Lorenzo's daily life</title>

<style>

html, body {margin: 0; padding: 0; width: 100%; height: 100%; font-family: sans-serif;}

#scene {position: relative; width: 100vw; height: 100vh; overflow: hidden;}

.bg {width: 100%; height: 100%; object-fit: cover;}

.hotspot {position: absolute; cursor: pointer; opacity: 0; transition: opacity 0.3s ease;}

.visibile {opacity: 1;}


.libro {left: 35%; top: 75%; width: 9%; opacity: 1;}
.lorenzo {left: 10%; top: 55%; width: 25%; opacity: 1;}
.librarian {left: 60%; top: 20%; width: 25%; opacity: 1;}

#popup {display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center;}

#popup.show {display: flex;}

#popup-content {background: #fff; padding: 25px; border-radius: 12px; text-align: center; max-width: 320px; width: 90%; box-shadow: 0 5px 15px rgba(0,0,0,0.3); transform: scale(0.8); 			opacity: 0; transition: all 0.2s ease;}

#popup.show #popup-content {transform: scale(1); opacity: 1;}

#popup-content button {margin: 10px; padding: 8px 16px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold;}

#si {background: #4CAF50; color: white;}
#no {background: #f44336; color: white;}

</style>
</head>

<body>

<div id="scene">


<img class="bg" src="../img/libreria_interno.png" alt="sfondo">

<img class="hotspot librarian" src="../img/librarian.png" alt="librarian" 
	data-messaggio="Vuoi parlare con la bibliotecaria?" data-destinazione="librarian.html">


<img class="hotspot libro" src="../img/libro.png" alt="libro" title="libro"
	data-messaggio="Che libro insolito, chissà di che tratta<br><br>Vuoi leggere questo libro?" data-destinazione="bohend1.html">

<img class="hotspot lorenzo" src="../img/lorenzo.png" alt="Lorenzo"
	data-messaggio="Sento la mia mente espandersi" data-tipo="descrizione">

</div>

<div id="popup"><div id="popup-content"><p id="popup-messaggio"></p><button id="si">Sì</button><button id="no">No</button></div></div>

<script>

document.addEventListener('DOMContentLoaded', () => {

const popup = document.getElementById('popup');
const popupMessaggio = document.getElementById('popup-messaggio');
const si = document.getElementById('si');
const no = document.getElementById('no');
let destinazione = '#';

document.querySelectorAll('.hotspot').forEach(el => {
  el.onclick = e => {
    e.preventDefault();
    popupMessaggio.innerHTML = el.dataset.messaggio || '';
    if (el.dataset.tipo === 'descrizione') {si.style.display = 'none'; no.style.display = 'none';}
    else {si.style.display = 'inline-block'; no.style.display = 'inline-block'; destinazione = el.dataset.destinazione;}
    popup.classList.add('show');
  };
});

si.onclick = () => window.location.href = destinazione;
no.onclick = () => popup.classList.remove('show');
popup.onclick = e => {if (e.target === popup) popup.classList.remove('show');};

});

</script>

</body>
</html>
